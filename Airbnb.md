[airbnb_large_sample.csv](https://github.com/user-attachments/files/19481573/airbnb_large_sample.csv)ì¢‹ìŠµë‹ˆë‹¤. ì²¨ë¶€í•´ì£¼ì‹  ì´ë¯¸ì§€ë¥¼ ê¸°ë°˜ìœ¼ë¡œ, ì•„ë˜ì™€ ê°™ì´ **Airbnb - ë°ì´í„° ë¶„ì„ & ì¸ì‚¬ì´íŠ¸ ë„ì¶œ í”„ë¡œì íŠ¸**ë¥¼ ì™„ì„±í˜• ì‹¤ë¬´ í”„ë¡œì íŠ¸ í¬ë§·ìœ¼ë¡œ ì •ë¦¬í•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤. ì‹¤ì œ í˜„ì—…ì—ì„œë„ í™œìš©í•  ìˆ˜ ìˆëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬ì„±í•´ë“œë¦´ê²Œìš”.


---

# ğŸ“Š AirBnB - ë°ì´í„° ë¶„ì„ & ì¸ì‚¬ì´íŠ¸ ë„ì¶œ í”„ë¡œì íŠ¸

### âœ… í”„ë¡œì íŠ¸ ê°œìš”

- **ëª©ì **: Airbnb ìˆ™ì†Œ ê°€ê²©ì— ì˜í–¥ì„ ì£¼ëŠ” ì£¼ìš” ìš”ì¸ ë„ì¶œ ë° ì„¸ë¶„í™”ëœ ì§€í‘œ(Metrics) ê¸°ë°˜ ì¸ì‚¬ì´íŠ¸ ì¶”ì¶œ
- **í•µì‹¬ ì§ˆë¬¸**:
  1. ì–´ë–¤ ë³€ìˆ˜ë“¤ì´ Airbnb ê°€ê²©ì— ì˜í–¥ì„ ì£¼ëŠ”ê°€?
  2. ì§€ì—­Â·ìˆ™ì†Œ ìœ í˜•Â·ë¦¬ë·° ìˆ˜Â·ê°€ìš© ì¼ìˆ˜ ë“±ì— ë”°ë¼ ì„¸ë¶„í™”ëœ íŒ¨í„´ì€ ì¡´ì¬í•˜ëŠ”ê°€?
  3. ë°ì´í„° ì „ë°˜ì˜ ë¶„í¬ì™€ íŠ¹ì„±ì„ ê¸°ë°˜ìœ¼ë¡œ ì–´ë–¤ ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸ë¥¼ ë„ì¶œí•  ìˆ˜ ìˆëŠ”ê°€?

---

### ğŸ” ë¬¸ì œì •ì˜

- Airbnb ê°€ê²©ì— ì˜í–¥ì„ ì£¼ëŠ” ì£¼ìš” ìš”ì¸ì„ ë„ì¶œí•˜ê³ ì í•¨
- Segë³„ ì£¼ìš” Metricsë¥¼ ì¶”ì¶œí•˜ì—¬ ìœ ì˜ë¯¸í•œ ì¸ì‚¬ì´íŠ¸ ë„ì¶œ
- ì¦‰, ë³´ìœ  ì¤‘ì¸ Airbnb ë°ì´í„°ë¥¼ ì „ë°˜ì ìœ¼ë¡œ í™œìš©í•˜ì—¬ ì£¼ìš” ì§€í‘œë¥¼ íŒŒì•…í•˜ê³  ë°ì´í„°ì˜ ìƒíƒœì™€ íŠ¸ë Œë“œë¥¼ ì´í•´í•˜ëŠ” ê²ƒì´ ëª©í‘œ

---

### ğŸ› ï¸ í”„ë¡œì íŠ¸ ë°°ê²½ ë° í•„ìš”ì„±

- í˜„ì—…ì—ì„œëŠ” ë¶„ì„ ëª©ì ì´ ëª¨í˜¸í•  ìˆ˜ ìˆì§€ë§Œ, ë°ì´í„°ë¥¼ **ì „ë°˜ì ìœ¼ë¡œ ì´í•´í•˜ëŠ” ì¼**ì´ ë°˜ë“œì‹œ í•„ìš”í•¨
- ì´ëŠ” ë°ì´í„° ê¸°ë°˜ ì˜ì‚¬ê²°ì •ì˜ ì¶œë°œì ìœ¼ë¡œ, ë°ì´í„° íŠ¹ì„±ì— ëŒ€í•œ ì§ê´€ì  ì´í•´ ì—†ì´ëŠ” ë¹„ì¦ˆë‹ˆìŠ¤ ì „ëµ ìˆ˜ë¦½ì´ ì–´ë µê¸° ë•Œë¬¸
- ë³¸ í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒê³¼ ê°™ì€ ëª©í‘œë¥¼ ê°–ê³  ì§„í–‰ë¨:
  - ì „ì²´ Airbnb ë°ì´í„°ë¥¼ êµ¬ì¡°í™”í•˜ê³  ì‹œê°í™”í•¨ìœ¼ë¡œì¨, ì¸ì‚¬ì´íŠ¸ ë° íŒ¨í„´ íŒŒì•…
  - ë¶„ì„ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ì‹¤ì§ˆì ì¸ ìš´ì˜ ì „ëµ ìˆ˜ë¦½ì´ ê°€ëŠ¥í•˜ë„ë¡ ì§€ì›

---

### ğŸ§© ë¶„ì„ ì ˆì°¨

ì´ë¯¸ì§€ ì† íë¦„ë„ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì€ ë¶„ì„ ë‹¨ê³„ë¥¼ ì„¤ê³„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

#### 1. **Airbnb ë°ì´í„° ë¡œë“œ**
- CSV íŒŒì¼ ë¡œë“œ ë° ìŠ¤í‚¤ë§ˆ í™•ì¸
- ê²°ì¸¡ì¹˜, ì´ìƒì¹˜, ë°ì´í„° íƒ€ì… í™•ì¸
- ì˜ˆ: `price`, `number_of_reviews`, `availability_365`, `neighbourhood`, `room_type`

#### 2. **ë°ì´í„° ì •ë¦¬**
- ì „ì²˜ë¦¬: ê°€ê²© ë‹¨ìœ„ í†µì¼ (`$` ì œê±°, ì •ìˆ˜í˜• ë³€í™˜), ë‚ ì§œ ë°ì´í„° íŒŒì‹±
- íŒŒìƒ ë³€ìˆ˜ ìƒì„±: ì˜ˆ) `price_per_person`, `review_rate_per_month` ë“±
- ë²”ì£¼í˜• ë³€ìˆ˜ ì •ë¦¬: ì§€ì—­, ìˆ™ì†Œìœ í˜• ë“± Label Encoding ë˜ëŠ” One-hot Encoding ì ìš©

#### 3. **ê°€ê²© ë¶„í¬ ê³„ì‚°**
- ì „ì²´ ê°€ê²© ë¶„í¬ ë° ë¡œê·¸ë³€í™˜ í™•ì¸ (Outlier í™•ì¸ ëª©ì )
- ì§€ì—­, ìˆ™ì†Œ ìœ í˜•ë³„ í‰ê·  ë° ì¤‘ì•™ê°’ ê³„ì‚°
- Boxplot / KDE Plot / Histogram ì‚¬ìš©

#### 4. **ê°€ê²© ì˜í–¥ ìš”ì¸ ì‹ë³„**
- ìƒê´€ê´€ê³„ ë¶„ì„ (í”¼ì–´ìŠ¨/ìŠ¤í”¼ì–´ë§Œ)
- íšŒê·€ ë¶„ì„: ë‹¤ì¤‘ ì„ í˜• íšŒê·€ë¡œ ì£¼ìš” Feature ë„ì¶œ
- ëœë¤í¬ë ˆìŠ¤íŠ¸ ë“± íŠ¸ë¦¬ ê¸°ë°˜ ëª¨ë¸ë¡œ Feature Importance ì‹œê°í™”

#### 5. **ê°€ê²© ë¶„í¬ ì‹œê°í™”**
- ì§€ì—­ë³„ ê°€ê²© íˆíŠ¸ë§µ (ì§€ë„ ê¸°ë°˜ ì‹œê°í™”)
- ì¹´í…Œê³ ë¦¬ë³„ Price ë¶„í¬ ë¹„êµ (Violin Plot, Stripplot)
- ìˆ™ì†Œ ìœ í˜•/ì§€ì—­/ê°€ìš©ì¼ìˆ˜/ë¦¬ë·° ìˆ˜ì— ë”°ë¥¸ ë¶„í¬ ë¹„êµ

#### 6. **íŒ¨í„´ ë¶„ì„**
- í´ëŸ¬ìŠ¤í„°ë§ ê¸°ë°˜ Seg ë„ì¶œ (K-means, DBSCAN)
- ê³ ê° ë¦¬ë·° ìˆ˜ì™€ ê°€ê²©ì˜ ê´€ê³„ ë¶„ì„
- ì‹œì¦Œì„± ë¶„ì„ (ì›”ë³„, ìš”ì¼ë³„)

#### 7. **ë¹„ì¦ˆë‹ˆìŠ¤ ì¸ì‚¬ì´íŠ¸ ë„ì¶œ**
- ê³ ê°€ê²© ìˆ™ì†Œì˜ ê³µí†µ íŠ¹ì„±ì€ ë¬´ì—‡ì¸ê°€?
- ì§€ì—­/ìˆ™ì†Œ ìœ í˜•ë³„ ìµœì  ê°€ê²©ëŒ€ëŠ” ì–´ë–»ê²Œ êµ¬ì„±ë˜ì–´ì•¼ í•˜ëŠ”ê°€?
- ê°€ê²© ì •ì±… ë° ë§ˆì¼€íŒ… ì „ëµì— ë°˜ì˜í•  ìˆ˜ ìˆëŠ” í•µì‹¬ íŒ¨í„´ ì •ë¦¬

---

### ğŸ“Œ ê¸°ëŒ€ íš¨ê³¼

| êµ¬ë¶„ | ê¸°ëŒ€ ê²°ê³¼ |
|------|-----------|
| ë°ì´í„° ì •ì œ | ì´ìƒì¹˜ ì œê±° ë° ì •ê·œí™”ëœ Airbnb ë°ì´í„°ì…‹ í™•ë³´ |
| ë©”íŠ¸ë¦­ ë„ì¶œ | í‰ê· ê°€ê²©, ê°€ìš©ë¥ , ë¦¬ë·° ìˆ˜ ë“± í•µì‹¬ ì§€í‘œ ì¶”ì¶œ |
| ì¸ì‚¬ì´íŠ¸ | ìˆ™ì†Œ ê°€ê²© ê²°ì • ìš”ì¸ ë° ê³ ê°€ ìˆ™ì†Œì˜ íŠ¹ì„± ì´í•´ |
| ì‹œê°í™” | ë‹¤ì–‘í•œ ì°¨íŠ¸ì™€ ì§€ë„ ê¸°ë°˜ ì‹œê°í™”ë¡œ ì„¤ë“ë ¥ ê°•í™” |
| ì˜ì‚¬ê²°ì • ì§€ì› | ì§€ì—­ë³„ ê°€ê²© ì •ì±… ì„¤ê³„ ë° ìš´ì˜ ì „ëµ ë„ì¶œ ê°€ëŠ¥ |

---

### ğŸ’¬ ê°œì¸ì  ì¸ì‚¬ì´íŠ¸ ë° ì œì–¸

AirbnbëŠ” ë‹¨ìˆœ ìˆ™ë°• í”Œë«í¼ì´ ì•„ë‹Œ, ë„ì‹œ ê²½ì œÂ·ê´€ê´‘ íŠ¸ë Œë“œì™€ ì—°ê²°ëœ **ë³µí•© ìƒíƒœê³„ ë°ì´í„°**ì…ë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ëŠ” â€˜ìˆ™ì†Œ ê°€ê²©â€™ì´ë¼ëŠ” ê²½ì œì  ì‹ í˜¸ë¥¼ í†µí•´ **ê±°ì‹œì  ë„ì‹œ ë³€í™”, ë¯¸ì‹œì  ì†Œë¹„ì ì„ í˜¸**ë¥¼ ë™ì‹œì— ë“¤ì—¬ë‹¤ë³¼ ìˆ˜ ìˆëŠ” ê¸°íšŒë¥¼ ì œê³µí•©ë‹ˆë‹¤.

ì´ ë°ì´í„°ë¥¼ í†µí•´ ë‹¨ì§€ í†µê³„ë¶„ì„ì— ë¨¸ë¬´ë¥´ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, **í˜„ì¥ ìš´ì˜ ì „ëµì— ë°”ë¡œ ì ìš© ê°€ëŠ¥í•œ í†µì°°**ë¡œ ì—°ê²°ì‹œí‚¤ëŠ” ê²ƒì´ì•¼ë§ë¡œ ë°ì´í„° ë¶„ì„ê°€ì˜ ì‹¤ë¬´ì  ì—­ëŸ‰ì´ë¼ ìƒê°í•©ë‹ˆë‹¤.

---

í•„ìš”í•˜ì‹œë©´ ì´ ë¶„ì„ì„ Python + Pandas + Seaborn + Scikit-learnìœ¼ë¡œ ì½”ë“œí™”í•˜ê±°ë‚˜, Tableauë¡œ ì‹œê°í™” ì„¤ê³„í•´ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì–´ëŠ ìª½ìœ¼ë¡œ í™•ì¥í•˜ì‹œê² ì–´ìš”?




---

```python
# Airbnb ë°ì´í„° ë¶„ì„ & ì¸ì‚¬ì´íŠ¸ ë„ì¶œ í”„ë¡œì íŠ¸

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from sklearn.ensemble import RandomForestRegressor
from sklearn.model_selection import train_test_split
from sklearn.metrics import mean_squared_error
from sklearn.preprocessing import LabelEncoder

# 1. ë°ì´í„° ë¡œë“œ
# íŒŒì¼ ê²½ë¡œë¥¼ ì‚¬ìš©ìê°€ ì§€ì •í•˜ë„ë¡ ìˆ˜ì • ê°€ëŠ¥
data = pd.read_csv("airbnb_data.csv")

# 2. ë°ì´í„° ì •ë¦¬
data = data.copy()

# priceì—ì„œ $ ì œê±° í›„ ìˆ«ìí˜•ìœ¼ë¡œ ë³€í™˜
data['price'] = data['price'].replace('[\$,]', '', regex=True).astype(float)

# ë¶ˆí•„ìš”í•œ ì»¬ëŸ¼ ì œê±° (ì˜ˆì‹œ)
data.drop(['id', 'name', 'host_name', 'last_review'], axis=1, inplace=True, errors='ignore')

# ê²°ì¸¡ì¹˜ ì²˜ë¦¬
data.fillna({
    'reviews_per_month': 0,
    'review_rate_number': 0
}, inplace=True)

# ë²”ì£¼í˜• ì¸ì½”ë”©
categorical_cols = ['neighbourhood_group', 'neighbourhood', 'room_type']
for col in categorical_cols:
    if col in data.columns:
        le = LabelEncoder()
        data[col] = le.fit_transform(data[col])

# 3. ê°€ê²© ë¶„í¬ ì‹œê°í™”
plt.figure(figsize=(10,6))
sns.histplot(data['price'], bins=100, kde=True)
plt.title('Airbnb ê°€ê²© ë¶„í¬')
plt.xlim(0, 500)
plt.xlabel('ê°€ê²©($)')
plt.show()

# ë¡œê·¸ ë³€í™˜ ë¶„í¬ ë³´ê¸° (ì´ìƒì¹˜ ì™„í™”)
data['log_price'] = np.log1p(data['price'])
plt.figure(figsize=(10,6))
sns.histplot(data['log_price'], bins=100, kde=True)
plt.title('Log-ë³€í™˜ Airbnb ê°€ê²© ë¶„í¬')
plt.xlabel('log(price + 1)')
plt.show()

# 4. ìƒê´€ê´€ê³„ ë¶„ì„
plt.figure(figsize=(12,8))
sns.heatmap(data.corr(numeric_only=True), annot=True, cmap='coolwarm')
plt.title('ë³€ìˆ˜ ê°„ ìƒê´€ê´€ê³„')
plt.show()

# 5. Feature Importance - Random Forest
features = data.drop(columns=['price', 'log_price'])
target = data['price']

X_train, X_test, y_train, y_test = train_test_split(features, target, test_size=0.2, random_state=42)

model = RandomForestRegressor(n_estimators=100, random_state=42)
model.fit(X_train, y_train)
y_pred = model.predict(X_test)

print("RMSE:", np.sqrt(mean_squared_error(y_test, y_pred)))

# ë³€ìˆ˜ ì¤‘ìš”ë„ ì‹œê°í™”
feature_importance = pd.Series(model.feature_importances_, index=features.columns).sort_values(ascending=False)
plt.figure(figsize=(12,6))
sns.barplot(x=feature_importance.values, y=feature_importance.index)
plt.title('Feature Importance')
plt.xlabel('ì¤‘ìš”ë„')
plt.ylabel('ë³€ìˆ˜')
plt.show()

# 6. ì§€ì—­ë³„ í‰ê·  ê°€ê²© ì‹œê°í™”
if 'neighbourhood' in data.columns:
    avg_price_by_area = data.groupby('neighbourhood')['price'].mean().sort_values(ascending=False).head(10)
    plt.figure(figsize=(10,6))
    sns.barplot(x=avg_price_by_area.values, y=avg_price_by_area.index)
    plt.title('ì§€ì—­ë³„ í‰ê·  ìˆ™ì†Œ ê°€ê²©(ìƒìœ„ 10ê°œ)')
    plt.xlabel('í‰ê·  ê°€ê²©($)')
    plt.ylabel('ì§€ì—­')
    plt.show()
```


ì½”ë“œí™”ë¥¼ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ì´ í”„ë¡œì íŠ¸ëŠ” ë‹¤ìŒì„ ìˆ˜í–‰í•©ë‹ˆë‹¤:

- Airbnb ê°€ê²© ë°ì´í„° ì •ì œ ë° ì „ì²˜ë¦¬
- ê°€ê²© ë¶„í¬ ë° ë¡œê·¸ ë¶„í¬ ì‹œê°í™”
- ìƒê´€ê´€ê³„ ë¶„ì„ê³¼ ëœë¤í¬ë ˆìŠ¤íŠ¸ ê¸°ë°˜ ì£¼ìš” ì˜í–¥ ë³€ìˆ˜ ë„ì¶œ
- ì§€ì—­ë³„ í‰ê·  ê°€ê²© ë¶„ì„

ğŸ’¡ ë‹¤ìŒ ë‹¨ê³„ë¡œ ì•„ë˜ ì¤‘ ë¬´ì—‡ì„ í™•ì¥í•˜ì‹œê² ì–´ìš”?

1. **í´ëŸ¬ìŠ¤í„°ë§ ê¸°ë°˜ Segmentation (KMeans)** ì¶”ê°€
2. **ì›”ë³„ ë˜ëŠ” ìš”ì¼ë³„ ì‹œì¦Œì„± ë¶„ì„** ì¶”ê°€
3. **Tableauìš© ë¶„ì„ ë¦¬í¬íŠ¸** ë˜ëŠ” **Power BI ì—°ê²°ìš© ë°ì´í„° ê°€ê³µ**

ì›í•˜ì‹œëŠ” ë°©í–¥ ì•Œë ¤ì£¼ì‹œë©´ ì´ì–´ì„œ ë„ì™€ë“œë¦¬ê² ìŠµë‹ˆë‹¤!



---




```python
# Airbnb ë°ì´í„° ë¶„ì„ & ì¸ì‚¬ì´íŠ¸ ë„ì¶œ í”„ë¡œì íŠ¸

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from sklearn.ensemble import RandomForestRegressor
from sklearn.model_selection import train_test_split
from sklearn.metrics import mean_squared_error
from sklearn.preprocessing import LabelEncoder, StandardScaler
from sklearn.cluster import KMeans
import datetime

# 1. ë°ì´í„° ë¡œë“œ
# íŒŒì¼ ê²½ë¡œë¥¼ ì‚¬ìš©ìê°€ ì§€ì •í•˜ë„ë¡ ìˆ˜ì • ê°€ëŠ¥
data = pd.read_csv("airbnb_data.csv")

# 2. ë°ì´í„° ì •ë¦¬
data = data.copy()

data['price'] = data['price'].replace('[\$,]', '', regex=True).astype(float)
data.drop(['id', 'name', 'host_name', 'last_review'], axis=1, inplace=True, errors='ignore')
data.fillna({
    'reviews_per_month': 0,
    'review_rate_number': 0
}, inplace=True)

categorical_cols = ['neighbourhood_group', 'neighbourhood', 'room_type']
for col in categorical_cols:
    if col in data.columns:
        le = LabelEncoder()
        data[col] = le.fit_transform(data[col])

# ë‚ ì§œ ì •ë³´ ì²˜ë¦¬
data['date'] = pd.to_datetime(data.get('date', pd.Timestamp.today()))
data['month'] = data['date'].dt.month
if 'date' in data.columns:
    data['weekday'] = data['date'].dt.day_name()

# 3. ê°€ê²© ë¶„í¬ ì‹œê°í™”
plt.figure(figsize=(10,6))
sns.histplot(data['price'], bins=100, kde=True)
plt.title('Airbnb ê°€ê²© ë¶„í¬')
plt.xlim(0, 500)
plt.xlabel('ê°€ê²©($)')
plt.show()

# ë¡œê·¸ ë³€í™˜
data['log_price'] = np.log1p(data['price'])
plt.figure(figsize=(10,6))
sns.histplot(data['log_price'], bins=100, kde=True)
plt.title('Log-ë³€í™˜ Airbnb ê°€ê²© ë¶„í¬')
plt.xlabel('log(price + 1)')
plt.show()

# 4. ìƒê´€ê´€ê³„ ë¶„ì„
plt.figure(figsize=(12,8))
sns.heatmap(data.corr(numeric_only=True), annot=True, cmap='coolwarm')
plt.title('ë³€ìˆ˜ ê°„ ìƒê´€ê´€ê³„')
plt.show()

# 5. Feature Importance
features = data.drop(columns=['price', 'log_price'])
target = data['price']
X_train, X_test, y_train, y_test = train_test_split(features, target, test_size=0.2, random_state=42)
model = RandomForestRegressor(n_estimators=100, random_state=42)
model.fit(X_train, y_train)
y_pred = model.predict(X_test)
print("RMSE:", np.sqrt(mean_squared_error(y_test, y_pred)))
feature_importance = pd.Series(model.feature_importances_, index=features.columns).sort_values(ascending=False)
plt.figure(figsize=(12,6))
sns.barplot(x=feature_importance.values, y=feature_importance.index)
plt.title('Feature Importance')
plt.xlabel('ì¤‘ìš”ë„')
plt.ylabel('ë³€ìˆ˜')
plt.show()

# 6. ì§€ì—­ë³„ í‰ê·  ê°€ê²© ì‹œê°í™”
if 'neighbourhood' in data.columns:
    avg_price_by_area = data.groupby('neighbourhood')['price'].mean().sort_values(ascending=False).head(10)
    plt.figure(figsize=(10,6))
    sns.barplot(x=avg_price_by_area.values, y=avg_price_by_area.index)
    plt.title('ì§€ì—­ë³„ í‰ê·  ìˆ™ì†Œ ê°€ê²©(ìƒìœ„ 10ê°œ)')
    plt.xlabel('í‰ê·  ê°€ê²©($)')
    plt.ylabel('ì§€ì—­')
    plt.show()

# 7. í´ëŸ¬ìŠ¤í„°ë§ ê¸°ë°˜ ì„¸ë¶„í™”
cluster_data = data[['price', 'minimum_nights', 'number_of_reviews', 'availability_365']].copy()
scaler = StandardScaler()
cluster_scaled = scaler.fit_transform(cluster_data)

kmeans = KMeans(n_clusters=4, random_state=42)
data['cluster'] = kmeans.fit_predict(cluster_scaled)

plt.figure(figsize=(10,6))
sns.scatterplot(x='price', y='availability_365', hue='cluster', data=data, palette='Set2')
plt.title('Airbnb ê°€ê²© vs ê°€ìš©ì¼ìˆ˜ - í´ëŸ¬ìŠ¤í„°ë³„ ì‹œê°í™”')
plt.xlabel('ê°€ê²©($)')
plt.ylabel('ê°€ìš©ì¼ìˆ˜')
plt.legend(title='Cluster')
plt.show()

# 8. ì›”ë³„ ì‹œì¦Œì„± ë¶„ì„
if 'month' in data.columns:
    plt.figure(figsize=(10,6))
    sns.boxplot(x='month', y='price', data=data)
    plt.title('ì›”ë³„ Airbnb ê°€ê²© ë¶„í¬')
    plt.xlabel('ì›”')
    plt.ylabel('ê°€ê²©($)')
    plt.show()

# 9. ìš”ì¼ë³„ ì‹œì¦Œì„± ë¶„ì„
if 'weekday' in data.columns:
    plt.figure(figsize=(10,6))
    sns.boxplot(x='weekday', y='price', data=data, order=['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'])
    plt.title('ìš”ì¼ë³„ Airbnb ê°€ê²© ë¶„í¬')
    plt.xlabel('ìš”ì¼')
    plt.ylabel('ê°€ê²©($)')
    plt.xticks(rotation=45)
    plt.show()
```

âœ… í´ëŸ¬ìŠ¤í„°ë§ ê¸°ë°˜ Segmentation(KMeans)ê³¼ **ì›”ë³„/ìš”ì¼ë³„ ì‹œì¦Œì„± ë¶„ì„**ì„ ì½”ë“œì— ì¶”ê°€ ì™„ë£Œí–ˆìŠµë‹ˆë‹¤. ì£¼ìš” ê¸°ëŠ¥ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤:

1. **KMeans í´ëŸ¬ìŠ¤í„°ë§**:
   - `price`, `minimum_nights`, `number_of_reviews`, `availability_365` ê¸°ì¤€ìœ¼ë¡œ ìˆ™ì†Œë¥¼ 4ê°œ ê·¸ë£¹ìœ¼ë¡œ ì„¸ë¶„í™”
   - ê°€ê²©ê³¼ ê°€ìš©ì¼ìˆ˜ ê°„ì˜ í´ëŸ¬ìŠ¤í„° ì‹œê°í™”

2. **ì‹œì¦Œì„± ë¶„ì„**:
   - `month`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ **ì›”ë³„ ê°€ê²© ë¶„í¬** í™•ì¸
   - `weekday`ë¥¼ ê¸°ì¤€ìœ¼ë¡œ **ìš”ì¼ë³„ ê°€ê²© íŠ¸ë Œë“œ** ì‹œê°í™”

ğŸ“Œ ì´ì œ ì´ ë¶„ì„ì€ Airbnb ê°€ê²© ì „ëµ, ì„±ìˆ˜ê¸° ì˜ˆì¸¡, ê·¸ë¦¬ê³  ë°ì´í„° ê¸°ë°˜ì˜ ìˆ™ì†Œ ì„¸ë¶„í™” ì „ëµê¹Œì§€ ê°€ëŠ¥í•˜ê²Œ í•´ì¤ë‹ˆë‹¤.

ì›í•˜ì‹œë©´ ë‹¤ìŒ ë‹¨ê³„ë¡œ:
- **Tableau ì‹œê°í™”ìš© Aggregated Dataset ìƒì„±**
- **ë¦¬í¬íŠ¸ ìë™ ìƒì„± (PDF/HTML)**
- **Streamlit ì›¹ì•±ìœ¼ë¡œ ëŒ€ì‹œë³´ë“œí™”**

ì´ ì¤‘ ì–´ë–¤ ìª½ìœ¼ë¡œ í™•ì¥í•˜ê³  ì‹¶ìœ¼ì‹ ê°€ìš”?


---


```python
# Airbnb ë°ì´í„° ë¶„ì„ & ì¸ì‚¬ì´íŠ¸ ë„ì¶œ í”„ë¡œì íŠ¸

import pandas as pd
import numpy as np
import matplotlib.pyplot as plt
import seaborn as sns
from sklearn.ensemble import RandomForestRegressor
from sklearn.model_selection import train_test_split
from sklearn.metrics import mean_squared_error
from sklearn.preprocessing import LabelEncoder, StandardScaler
from sklearn.cluster import KMeans
import datetime
import streamlit as st

st.set_page_config(page_title="Airbnb ë°ì´í„° ë¶„ì„ ëŒ€ì‹œë³´ë“œ", layout="wide")
st.title("ğŸ  Airbnb ë°ì´í„° ë¶„ì„ & ì¸ì‚¬ì´íŠ¸ ëŒ€ì‹œë³´ë“œ")

# ë°ì´í„° ë¡œë“œ
uploaded_file = st.file_uploader("CSV íŒŒì¼ ì—…ë¡œë“œ", type=["csv"])
if uploaded_file:
    data = pd.read_csv(uploaded_file)

    # ë°ì´í„° ì •ë¦¬
    data['price'] = data['price'].replace('[\$,]', '', regex=True).astype(float)
    data.drop(['id', 'name', 'host_name', 'last_review'], axis=1, inplace=True, errors='ignore')
    data.fillna({
        'reviews_per_month': 0,
        'review_rate_number': 0
    }, inplace=True)

    categorical_cols = ['neighbourhood_group', 'neighbourhood', 'room_type']
    for col in categorical_cols:
        if col in data.columns:
            le = LabelEncoder()
            data[col] = le.fit_transform(data[col])

    data['date'] = pd.to_datetime(data.get('date', pd.Timestamp.today()))
    data['month'] = data['date'].dt.month
    data['weekday'] = data['date'].dt.day_name()
    data['log_price'] = np.log1p(data['price'])

    # í´ëŸ¬ìŠ¤í„°ë§
    cluster_data = data[['price', 'minimum_nights', 'number_of_reviews', 'availability_365']].copy()
    scaler = StandardScaler()
    cluster_scaled = scaler.fit_transform(cluster_data)
    kmeans = KMeans(n_clusters=4, random_state=42)
    data['cluster'] = kmeans.fit_predict(cluster_scaled)

    tab1, tab2, tab3 = st.tabs(["ğŸ“Š ê°€ê²© ë¶„ì„", "ğŸ“ í´ëŸ¬ìŠ¤í„°ë§", "ğŸ“† ì‹œì¦Œì„± ë¶„ì„"])

    with tab1:
        st.subheader("ê°€ê²© ë¶„í¬ ì‹œê°í™”")
        fig, ax = plt.subplots()
        sns.histplot(data['price'], bins=100, kde=True, ax=ax)
        ax.set_xlim(0, 500)
        st.pyplot(fig)

        st.subheader("Log-ë³€í™˜ ê°€ê²© ë¶„í¬")
        fig2, ax2 = plt.subplots()
        sns.histplot(data['log_price'], bins=100, kde=True, ax=ax2)
        st.pyplot(fig2)

        st.subheader("Feature Importance")
        features = data.drop(columns=['price', 'log_price'])
        target = data['price']
        X_train, X_test, y_train, y_test = train_test_split(features, target, test_size=0.2, random_state=42)
        model = RandomForestRegressor(n_estimators=100, random_state=42)
        model.fit(X_train, y_train)
        feature_importance = pd.Series(model.feature_importances_, index=features.columns).sort_values(ascending=False)
        fig3, ax3 = plt.subplots()
        sns.barplot(x=feature_importance.values, y=feature_importance.index, ax=ax3)
        st.pyplot(fig3)

    with tab2:
        st.subheader("í´ëŸ¬ìŠ¤í„°ë§ ê²°ê³¼")
        fig4, ax4 = plt.subplots()
        sns.scatterplot(x='price', y='availability_365', hue='cluster', data=data, palette='Set2', ax=ax4)
        st.pyplot(fig4)

    with tab3:
        st.subheader("ì›”ë³„ ê°€ê²© ë¶„í¬")
        fig5, ax5 = plt.subplots()
        sns.boxplot(x='month', y='price', data=data, ax=ax5)
        st.pyplot(fig5)

        st.subheader("ìš”ì¼ë³„ ê°€ê²© ë¶„í¬")
        fig6, ax6 = plt.subplots()
        sns.boxplot(x='weekday', y='price', data=data, 
                    order=['Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday', 'Sunday'], ax=ax6)
        plt.xticks(rotation=45)
        st.pyplot(fig6)
else:
    st.info("ì™¼ìª½ ì‚¬ì´ë“œë°”ì—ì„œ Airbnb CSV íŒŒì¼ì„ ì—…ë¡œë“œí•´ì£¼ì„¸ìš”.")
```

Streamlit ì›¹ì•± ì½”ë“œë¡œ ë³€í™˜ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤! ğŸ‰  
ì´ì œ ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠ¥ì´ í¬í•¨ëœ ëŒ€ì‹œë³´ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

### ğŸ“Š íƒ­ë³„ ê¸°ëŠ¥ êµ¬ì„±

1. **ğŸ“Š ê°€ê²© ë¶„ì„ íƒ­**
   - ê°€ê²© íˆìŠ¤í† ê·¸ë¨ & KDE í”Œë¡¯
   - Log(price+1) ë³€í™˜ ë¶„í¬
   - ëœë¤í¬ë ˆìŠ¤íŠ¸ ê¸°ë°˜ Feature Importance ì‹œê°í™”

2. **ğŸ“ í´ëŸ¬ìŠ¤í„°ë§ íƒ­**
   - ê°€ê²© vs ê°€ìš©ì¼ìˆ˜ ê¸°ë°˜ í´ëŸ¬ìŠ¤í„° ê²°ê³¼ ì‹œê°í™”

3. **ğŸ“† ì‹œì¦Œì„± ë¶„ì„ íƒ­**
   - ì›”ë³„ ê°€ê²© Boxplot
   - ìš”ì¼ë³„ ê°€ê²© Boxplot (ìš”ì¼ ìˆœ ì •ë ¬ í¬í•¨)

---

### â–¶ ì‹¤í–‰ ë°©ë²•

1. `airbnb_dashboard.py` ë“±ì˜ ì´ë¦„ìœ¼ë¡œ ì €ì¥
2. í„°ë¯¸ë„ì—ì„œ ì•„ë˜ ëª…ë ¹ì–´ ì‹¤í–‰:

```bash
streamlit run airbnb_dashboard.py
```

3. ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ëŒ€ì‹œë³´ë“œ í™•ì¸

---

í•„ìš”í•˜ì‹œë©´:
- **ì§€ì—­ë³„ ì§€ë„ ì‹œê°í™” (folium, pydeck ë“±)**
- **í´ëŸ¬ìŠ¤í„°ë³„ íŠ¹ì„± í…Œì´ë¸” ìš”ì•½**
- **ë‹¤ìš´ë¡œë“œ ê¸°ëŠ¥(ë°ì´í„°/ì°¨íŠ¸)**

ë„ ì¶”ê°€í•´ë“œë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì–´ë–¤ í™•ì¥ì„ ì›í•˜ì‹œë‚˜ìš”?




